<div id="googleMap" style="width:100%;height:850px;"></div>
<script>
function myMap() {
    var mapProp= {
        center:new google.maps.LatLng(<%= @coord_x[0] %>, <%= @coord_y[0] %>),
        zoom:4,
    };
    
    var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);

    <% for i in Address.all.each %>
    
    var marker = new google.maps.Marker({
        
        <% p @coord_x[i.id - 1] %>

        position : new google.maps.LatLng(<%= @coord_x[i.id-1] %>, <%= @coord_y[i.id-1] %>),
        title: "<%= Address.find(i.id).street_number %> \nCustomer name: <%= @customer_name[i.id-1] %> \nNumber of battery: <%= @number_battery[i.id-1] %>\nNumber of column: <%= @number_column[i.id-1]  %>\nNumber Elevators: <%= @number_elevator[i.id-1]  %>\nService Contact: <%= @service_name[i.id-1] %>"
        
    });
        var infoWindow = new google.maps.InfoWindow({
        content:"<h1> Nom complet du contact technique</h1>"
            
        });
        marker.addListener("click", function(){
            infoWindow.open(map, marker);
    });
    

    marker.setMap(map);
    


    <% end %>

}
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDI2ADRtfrKDxEjxR1-fhMLmi0K-f6Xl-Q&callback=myMap"></script>

